var $ab047a2283e4e1284cf7d7e684b8ebe$exports = {};
var $ab047a2283e4e1284cf7d7e684b8ebe$var$trim = $parcel$require("4ab047a2283e4e1284cf7d7e684b8ebe", "trim");
var $ab047a2283e4e1284cf7d7e684b8ebe$var$interrupt = $parcel$require("4ab047a2283e4e1284cf7d7e684b8ebe", "../util/interrupt");
$ab047a2283e4e1284cf7d7e684b8ebe$exports = $ab047a2283e4e1284cf7d7e684b8ebe$var$blockquote;
var $ab047a2283e4e1284cf7d7e684b8ebe$var$C_NEWLINE = '\n';
var $ab047a2283e4e1284cf7d7e684b8ebe$var$C_TAB = '\t';
var $ab047a2283e4e1284cf7d7e684b8ebe$var$C_SPACE = ' ';
var $ab047a2283e4e1284cf7d7e684b8ebe$var$C_GT = '>';
/* Tokenise a blockquote. */

function $ab047a2283e4e1284cf7d7e684b8ebe$var$blockquote(eat, value, silent) {
  var self = this;
  var offsets = self.offset;
  var tokenizers = self.blockTokenizers;
  var interruptors = self.interruptBlockquote;
  var now = eat.now();
  var currentLine = now.line;
  var length = value.length;
  var values = [];
  var contents = [];
  var indents = [];
  var add;
  var index = 0;
  var character;
  var rest;
  var nextIndex;
  var content;
  var line;
  var startIndex;
  var prefixed;
  var exit;

  while (index < length) {
    character = value.charAt(index);

    if (character !== $ab047a2283e4e1284cf7d7e684b8ebe$var$C_SPACE && character !== $ab047a2283e4e1284cf7d7e684b8ebe$var$C_TAB) {
      break;
    }

    index++;
  }

  if (value.charAt(index) !== $ab047a2283e4e1284cf7d7e684b8ebe$var$C_GT) {
    return;
  }

  if (silent) {
    return true;
  }

  index = 0;

  while (index < length) {
    nextIndex = value.indexOf($ab047a2283e4e1284cf7d7e684b8ebe$var$C_NEWLINE, index);
    startIndex = index;
    prefixed = false;

    if (nextIndex === -1) {
      nextIndex = length;
    }

    while (index < length) {
      character = value.charAt(index);

      if (character !== $ab047a2283e4e1284cf7d7e684b8ebe$var$C_SPACE && character !== $ab047a2283e4e1284cf7d7e684b8ebe$var$C_TAB) {
        break;
      }

      index++;
    }

    if (value.charAt(index) === $ab047a2283e4e1284cf7d7e684b8ebe$var$C_GT) {
      index++;
      prefixed = true;

      if (value.charAt(index) === $ab047a2283e4e1284cf7d7e684b8ebe$var$C_SPACE) {
        index++;
      }
    } else {
      index = startIndex;
    }

    content = value.slice(index, nextIndex);

    if (!prefixed && !$ab047a2283e4e1284cf7d7e684b8ebe$var$trim(content)) {
      index = startIndex;
      break;
    }

    if (!prefixed) {
      rest = value.slice(index);
      /* Check if the following code contains a possible
       * block. */

      if ($ab047a2283e4e1284cf7d7e684b8ebe$var$interrupt(interruptors, tokenizers, self, [eat, rest, true])) {
        break;
      }
    }

    line = startIndex === index ? content : value.slice(startIndex, nextIndex);
    indents.push(index - startIndex);
    values.push(line);
    contents.push(content);
    index = nextIndex + 1;
  }

  index = -1;
  length = indents.length;
  add = eat(values.join($ab047a2283e4e1284cf7d7e684b8ebe$var$C_NEWLINE));

  while (++index < length) {
    offsets[currentLine] = (offsets[currentLine] || 0) + indents[index];
    currentLine++;
  }

  exit = self.enterBlock();
  contents = self.tokenizeBlock(contents.join($ab047a2283e4e1284cf7d7e684b8ebe$var$C_NEWLINE), now);
  exit();
  return add({
    type: 'blockquote',
    children: contents
  });
}