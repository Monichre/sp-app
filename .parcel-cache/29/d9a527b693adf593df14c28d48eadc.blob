var $dbcd6e6d49fff47c36dafc997459f95$exports = {};

function $dbcd6e6d49fff47c36dafc997459f95$var$_toConsumableArray(arr) {
  return $dbcd6e6d49fff47c36dafc997459f95$var$_arrayWithoutHoles(arr) || $dbcd6e6d49fff47c36dafc997459f95$var$_iterableToArray(arr) || $dbcd6e6d49fff47c36dafc997459f95$var$_nonIterableSpread();
}

function $dbcd6e6d49fff47c36dafc997459f95$var$_nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance");
}

function $dbcd6e6d49fff47c36dafc997459f95$var$_iterableToArray(iter) {
  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter);
}

function $dbcd6e6d49fff47c36dafc997459f95$var$_arrayWithoutHoles(arr) {
  if (Array.isArray(arr)) {
    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {
      arr2[i] = arr[i];
    }

    return arr2;
  }
}

var $dbcd6e6d49fff47c36dafc997459f95$var$xtend = $parcel$require("2dbcd6e6d49fff47c36dafc997459f95", "xtend");
var $dbcd6e6d49fff47c36dafc997459f95$var$unified = $parcel$require("2dbcd6e6d49fff47c36dafc997459f95", "unified");
var $dbcd6e6d49fff47c36dafc997459f95$var$parse = $parcel$require("2dbcd6e6d49fff47c36dafc997459f95", "remark-parse");
var $dbcd6e6d49fff47c36dafc997459f95$var$PropTypes = $parcel$require("2dbcd6e6d49fff47c36dafc997459f95", "prop-types");
var $dbcd6e6d49fff47c36dafc997459f95$var$addListMetadata = $parcel$require("2dbcd6e6d49fff47c36dafc997459f95", "mdast-add-list-metadata");
var $dbcd6e6d49fff47c36dafc997459f95$var$naiveHtml = $parcel$require("2dbcd6e6d49fff47c36dafc997459f95", "./plugins/naive-html");
var $dbcd6e6d49fff47c36dafc997459f95$var$disallowNode = $parcel$require("2dbcd6e6d49fff47c36dafc997459f95", "./plugins/disallow-node");
var $dbcd6e6d49fff47c36dafc997459f95$var$astToReact = $parcel$require("2dbcd6e6d49fff47c36dafc997459f95", "./ast-to-react");
var $dbcd6e6d49fff47c36dafc997459f95$var$wrapTableRows = $parcel$require("2dbcd6e6d49fff47c36dafc997459f95", "./wrap-table-rows");
var $dbcd6e6d49fff47c36dafc997459f95$var$getDefinitions = $parcel$require("2dbcd6e6d49fff47c36dafc997459f95", "./get-definitions");
var $dbcd6e6d49fff47c36dafc997459f95$var$uriTransformer = $parcel$require("2dbcd6e6d49fff47c36dafc997459f95", "./uri-transformer");
var $dbcd6e6d49fff47c36dafc997459f95$var$defaultRenderers = $parcel$require("2dbcd6e6d49fff47c36dafc997459f95", "./renderers");
var $dbcd6e6d49fff47c36dafc997459f95$var$symbols = $parcel$require("2dbcd6e6d49fff47c36dafc997459f95", "./symbols");
var $dbcd6e6d49fff47c36dafc997459f95$var$allTypes = Object.keys($dbcd6e6d49fff47c36dafc997459f95$var$defaultRenderers);

var $dbcd6e6d49fff47c36dafc997459f95$var$ReactMarkdown = function ReactMarkdown(props) {
  var src = props.source || props.children || '';
  var parserOptions = props.parserOptions;

  if (props.allowedTypes && props.disallowedTypes) {
    throw new Error('Only one of `allowedTypes` and `disallowedTypes` should be defined');
  }

  var renderers = $dbcd6e6d49fff47c36dafc997459f95$var$xtend($dbcd6e6d49fff47c36dafc997459f95$var$defaultRenderers, props.renderers);
  var plugins = [[$dbcd6e6d49fff47c36dafc997459f95$var$parse, parserOptions]].concat(props.plugins || []);
  var parser = plugins.reduce($dbcd6e6d49fff47c36dafc997459f95$var$applyParserPlugin, $dbcd6e6d49fff47c36dafc997459f95$var$unified());
  var rawAst = parser.parse(src);
  var renderProps = $dbcd6e6d49fff47c36dafc997459f95$var$xtend(props, {
    renderers: renderers,
    definitions: $dbcd6e6d49fff47c36dafc997459f95$var$getDefinitions(rawAst)
  });
  var astPlugins = $dbcd6e6d49fff47c36dafc997459f95$var$determineAstPlugins(props); // eslint-disable-next-line no-sync

  var transformedAst = parser.runSync(rawAst);
  var ast = astPlugins.reduce(function (node, plugin) {
    return plugin(node, renderProps);
  }, transformedAst);
  return $dbcd6e6d49fff47c36dafc997459f95$var$astToReact(ast, renderProps);
};

function $dbcd6e6d49fff47c36dafc997459f95$var$applyParserPlugin(parser, plugin) {
  return Array.isArray(plugin) ? parser.use.apply(parser, $dbcd6e6d49fff47c36dafc997459f95$var$_toConsumableArray(plugin)) : parser.use(plugin);
}

function $dbcd6e6d49fff47c36dafc997459f95$var$determineAstPlugins(props) {
  var plugins = [$dbcd6e6d49fff47c36dafc997459f95$var$wrapTableRows, $dbcd6e6d49fff47c36dafc997459f95$var$addListMetadata()];
  var disallowedTypes = props.disallowedTypes;

  if (props.allowedTypes) {
    disallowedTypes = $dbcd6e6d49fff47c36dafc997459f95$var$allTypes.filter(function (type) {
      return type !== 'root' && props.allowedTypes.indexOf(type) === -1;
    });
  }

  var removalMethod = props.unwrapDisallowed ? 'unwrap' : 'remove';

  if (disallowedTypes && disallowedTypes.length > 0) {
    plugins.push($dbcd6e6d49fff47c36dafc997459f95$var$disallowNode.ofType(disallowedTypes, removalMethod));
  }

  if (props.allowNode) {
    plugins.push($dbcd6e6d49fff47c36dafc997459f95$var$disallowNode.ifNotMatch(props.allowNode, removalMethod));
  }

  var renderHtml = !props.escapeHtml && !props.skipHtml;
  var hasHtmlParser = (props.astPlugins || []).some(function (item) {
    var plugin = Array.isArray(item) ? item[0] : item;
    return plugin.identity === $dbcd6e6d49fff47c36dafc997459f95$var$symbols.HtmlParser;
  });

  if (renderHtml && !hasHtmlParser) {
    plugins.push($dbcd6e6d49fff47c36dafc997459f95$var$naiveHtml);
  }

  return props.astPlugins ? plugins.concat(props.astPlugins) : plugins;
}

$dbcd6e6d49fff47c36dafc997459f95$var$ReactMarkdown.defaultProps = {
  renderers: {},
  escapeHtml: true,
  skipHtml: false,
  sourcePos: false,
  rawSourcePos: false,
  transformLinkUri: $dbcd6e6d49fff47c36dafc997459f95$var$uriTransformer,
  astPlugins: [],
  plugins: [],
  parserOptions: {}
};
$dbcd6e6d49fff47c36dafc997459f95$var$ReactMarkdown.propTypes = {
  className: $dbcd6e6d49fff47c36dafc997459f95$var$PropTypes.string,
  source: $dbcd6e6d49fff47c36dafc997459f95$var$PropTypes.string,
  children: $dbcd6e6d49fff47c36dafc997459f95$var$PropTypes.string,
  sourcePos: $dbcd6e6d49fff47c36dafc997459f95$var$PropTypes.bool,
  rawSourcePos: $dbcd6e6d49fff47c36dafc997459f95$var$PropTypes.bool,
  escapeHtml: $dbcd6e6d49fff47c36dafc997459f95$var$PropTypes.bool,
  skipHtml: $dbcd6e6d49fff47c36dafc997459f95$var$PropTypes.bool,
  allowNode: $dbcd6e6d49fff47c36dafc997459f95$var$PropTypes.func,
  allowedTypes: $dbcd6e6d49fff47c36dafc997459f95$var$PropTypes.arrayOf($dbcd6e6d49fff47c36dafc997459f95$var$PropTypes.oneOf($dbcd6e6d49fff47c36dafc997459f95$var$allTypes)),
  disallowedTypes: $dbcd6e6d49fff47c36dafc997459f95$var$PropTypes.arrayOf($dbcd6e6d49fff47c36dafc997459f95$var$PropTypes.oneOf($dbcd6e6d49fff47c36dafc997459f95$var$allTypes)),
  transformLinkUri: $dbcd6e6d49fff47c36dafc997459f95$var$PropTypes.oneOfType([$dbcd6e6d49fff47c36dafc997459f95$var$PropTypes.func, $dbcd6e6d49fff47c36dafc997459f95$var$PropTypes.bool]),
  linkTarget: $dbcd6e6d49fff47c36dafc997459f95$var$PropTypes.oneOfType([$dbcd6e6d49fff47c36dafc997459f95$var$PropTypes.func, $dbcd6e6d49fff47c36dafc997459f95$var$PropTypes.string]),
  transformImageUri: $dbcd6e6d49fff47c36dafc997459f95$var$PropTypes.func,
  astPlugins: $dbcd6e6d49fff47c36dafc997459f95$var$PropTypes.arrayOf($dbcd6e6d49fff47c36dafc997459f95$var$PropTypes.func),
  unwrapDisallowed: $dbcd6e6d49fff47c36dafc997459f95$var$PropTypes.bool,
  renderers: $dbcd6e6d49fff47c36dafc997459f95$var$PropTypes.object,
  plugins: $dbcd6e6d49fff47c36dafc997459f95$var$PropTypes.array,
  parserOptions: $dbcd6e6d49fff47c36dafc997459f95$var$PropTypes.object
};
$dbcd6e6d49fff47c36dafc997459f95$var$ReactMarkdown.types = $dbcd6e6d49fff47c36dafc997459f95$var$allTypes;
$dbcd6e6d49fff47c36dafc997459f95$var$ReactMarkdown.renderers = $dbcd6e6d49fff47c36dafc997459f95$var$defaultRenderers;
$dbcd6e6d49fff47c36dafc997459f95$var$ReactMarkdown.uriTransformer = $dbcd6e6d49fff47c36dafc997459f95$var$uriTransformer;
$dbcd6e6d49fff47c36dafc997459f95$exports = $dbcd6e6d49fff47c36dafc997459f95$var$ReactMarkdown;