fragment ArtistFragment on Artist {
	id
	name
	images {
		url
	}
	external_urls {
		spotify
	}
	topListeners {
		total
		user {
			photoURL
			uid
			utcOffset
			displayName
			lastUpdate
			sk
			totalUpdates
			pk
			accessToken
			refreshToken
		}
	}
}

fragment TimescopeStatsFragment on TimescopeStats {
  timeseries {
    label
    values {
      period
      personal
      group
    }
  }
  personal {
    ...PerspectiveStatsFragment
  }
  group {
    ...PerspectiveStatsFragment
  }
}

fragment PerspectiveStatsFragment on PerspectiveStats {
  current {
    hrs
    mins
  }
  delta {
    direction
    hrs
    mins
  }
}

query InsightsArtistStats($uid: String!, $artistId: String!) {
	artist {
		topListeners {
			total
			user {
				photoURL
				uid
				utcOffset
				displayName
				lastUpdate
				sk
				totalUpdates
				pk
				accessToken
				refreshToken
			}
		}
	}
	insightsArtistStats(uid: $uid, gid: "global", artistId: $artistId) {
		artist {
			...ArtistFragment
		}
		today {
			...TimescopeStatsFragment
		}
		thisWeek {
			...TimescopeStatsFragment
		}
		thisMonth {
			...TimescopeStatsFragment
		}
		lifetime {
			...TimescopeStatsFragment
		}
	}
}
